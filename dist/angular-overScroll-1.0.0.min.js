!function(a,b,c,d){var e=c.module("overScroll",[]),f="overScroll";e.directive(a.camelCase(f),function(){var c=["$scope","$element",function(c,d){d=b(d[0]);var e=c.$eval(d.attr("over-scroll")),f={self:!1,horizontal:!1};a.merge(f,e);var g,h,i,j,k=-1,l=d,m=l[0],n=!1,o=0,p=.07,q=f.horizontal?"clientWidth":"clientHeight",r=f.horizontal?"scrollWidth":"scrollHeight",s=f.horizontal?"scrollLeft":"scrollTop",t=f.horizontal?"screenX":"screenY",u=function(a){var b=f.horizontal?a+"px,0":"0,"+a+"px";return"translate3d("+b+",0)"},v=function(a,b){var c=a<0?-1:1;a=Math.abs(a);var d=a/b*12;(f.self?l:l.children()).css({transition:"transform "+p+"s ease-out",transform:u(d*c)}),setTimeout(function(){(f.self?l:l.children()).css({transition:"transform "+p+"s ease-in",transform:u(0)})},1e3*p)};l.bind("scroll",function(b){k=m[q]+m[s]===m[r]?1:0===m[s]?-1:0,!k&&z&&(w=a.once(function(a){x=z=a})),g=o-m[s],j=(new Date).getTime(),i=j-h,k&&!n&&v(g,i),o=m[s],h=j});var w,x,y,z=0,A=function(){n=!1,(f.self?l:l.children()).css({transition:"transform 0.3s ease-in",transform:u(0)})},B=function(b){n=!0,z=x=0,y=m[r]===m[q],(f.self?l:l.children()).css({transition:"transform 0s",transform:u(0),"-webkit-backface-visibility":"hidden","backface-visibility":"hidden"}),w=a.once(function(a){x=z=a})};l.bind("touchstart",B);var C=0,D=function(a){if(Math.abs(a)<20)return C=0;var b=a>0?1:-1;b!==C&&(b>0?(d.trigger("overScrolledTop"),c.$emit("overScrolledTop",d)):(d.trigger("overScrolledBottom"),c.$emit("overScrolledBottom",d)),C=b)},E=function(a){0!==a&&(a/=Math.pow(Math.abs(a),.4)),D(a),(f.self?l:l.children()).css({transform:u(a)})};l.bind("touchmove",function(a){var b=a;if(a=a.originalEvent.touches?a.originalEvent.touches[0]:a.originalEvent,y)return w(a[t]),E(a[t]-z);var c=(x||a[t])<a[t],d=(x||a[t])>a[t];return x=a[t],1===k&&c||k===-1&&d?(n&&setTimeout(B,300),A(),b.preventDefault()):void(k&&n&&(w(a[t]),E(a[t]-z)))}),l.bind("touchend",A)}];return{restrict:"A",controller:c}})}(_,jQuery,angular);